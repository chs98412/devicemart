# 메타버스를 이용한 문서 보안 시스템
## 소개

메타버스를 이용하여 개발한 3중보안을 탑재 문서 보관 서비스입니다.

손동작, 카메라 인식, 비밀번호를 통한 총 3단계의 보안을 갖추고 있습니다.

## 프로젝트 구조
![](https://velog.velcdn.com/images/chs98412/post/56160e23-1e51-4d2c-8fa1-e5d12b5535c7/image.png)

## 프로젝트 동작 과정

하드웨어는 립모션 센서와 연결된 노트북, 핸드폰이 있습니다.

립모션 센서는 손동작을 인식할 수 있는 센서입니다.

사용자는 립모션 센서를 통해 1차 보안을 해제해야하며, 핸드폰을 이용해 나머지 2차,3차 보안을 해제해야 합니다.

1차 보안을 해제하기 전, 핸드폰 내의 어플리케이션은 아무런 동작을 하지 않으며, 1차 보안이 해제될 때까지 대기합니다.

### 1차 보안

사용자는 미리 지정된 손동작을 수행해야 1차 보안을 해제할 수 있습니다.

이때, 미리 지정된 손동작은 단순 손모양이 아닌, 자연스럽게 손을 움직이며 표현할 수 있는 손동작도 인식할 수 있도록 하였습니다.

1차 보안이 해제되면 aws의 dynamoDB에 결과가 반영됩니다.

### 2차 보안

1차 보안이 해제되기 전, 핸드폰의 어플리케이션은 대기상태에 머무릅니다.

대기상태에서 지속적으로 dynamoDB의 상태를 탐색합니다.

1차 보안이 해제되면, dynamoDB의 상태가 변경되므로, 이를 감지한 핸드폰은 1차 보안이 해제되었다고 받아들이고 2차보안을 위한 준비를 합니다.

2차 보안은 카메라를 이용한 보안입니다. 사용자는 지정된 물체를 카메라로 비추어야 합니다.

지정된 물체가 무엇인지 모르면, 2차 보안을 해제할 수 없습니다.

2차보안이 해제되면, 카메라로 비추고 있는 물체에 키패드가 나타납니다.

### 3차 보안

3차보안은 AR을 이용해 이루어집니다. 2차 보안에서 카메라로 지정된 물체를 비추면 키패드가 나타나는데, 사용자는 키패드에 미리 지정된 비밀번호를 입력해야 합니다. 비밀번호가 틀리면 다시 처음으로 돌아가게 됩니다. 비밀번호가 일치하면, 문서에 접근할 수 있는 권한을 얻게되면서 모든 보안이 해제됩니다.

## 통신

http 통신을 사용합니다. http 통신은 서버-클라이언트 간에 데이터를 교환할 때, 가장 많이 사용하는 방식입니다. 이 프로젝트에서 그렇듯 간단한 텍스트를 주고받기에 적합합니다.

이 프로젝트에서 http 통신은 두 곳에서 일어납니다. 

1. 1차 보안을 해제할 시, 노트북-aws 서버 간의 http 통신이 발생합니다.
2. 핸드폰의 어플리케이션은 aws의 dynamoDB의 상태(1차 보안 해제 여부)를 탐색하기 위해 주기적으로 http 통신을 사용합니다.

[HTTP 개요 - HTTP | MDN](https://developer.mozilla.org/ko/docs/Web/HTTP/Overview)

## 어려웠던 점

립모션은 매우 우수한 손동작 인식 센서입니다. 그렇지만 아직은 부족한 부분이 많아 제어에 어려움이 있었습니다. 립모션은 완제품이기에 하드웨어적으로 보완이 부족했으며, 오로지 소프트웨어적으로 이를 해결해야 했습니다. 이를 해결하기 위해, 하드웨어 태생적으로 인식이 잘 되지 않는 동작은 소프트웨어로 필터링했습니다. 

또한 카메라를 이용하여 지정된 물체를 비추기 위해선, 지정된 물체를 학습시켜서 유니티가 물체를 인식할 수 있게해야 합니다. 제한된 비용과 제한된 시간 안에 문제를 해결하기 위해 vuforia 프레임워크를 사용하였습니다. vuforia는 물체를 학습시켜 사용자에게 결과 데이터를 반환해줍니다.

## 한계

핸드폰이 aws의 dynamoDB의 상태를 탐색하기 위해, 주기적으로 http 통신을 사용합니다. 하지만 이 주기가 너무 짧아서, 많은 사용자가 이 서비스를 이용할 땐 과부하가 올 수 있습니다.

이를 해결하는 방안으로는 http 통신이 아닌 mqtt 통신을 이용하는 것입니다. mqtt 통신을 이용하, 핸드폰 디바이스가 aws 서버를 구독하고, aws dynamoDB에 변경이 생기면 aws에서 핸드폰으로 메세지를 보내줍니다.

이런 방법을 이용하면, 1차 보안 해제 여부를 핸드폰 어플리케이션이 탐색하는 것이 아니라, aws가 핸드폰에 알려주게 됩니다. 단순 통신량만 놓고보면 훨씬 비용적으로 이득인 방법입니다.
